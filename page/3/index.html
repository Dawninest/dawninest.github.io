<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Dark Force">
    
      <link rel="icon" href="/img/favicon.ico">
    
    <meta name="keyword"  content="">
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>

  <div class="page">
    <div class="head">
      <header class="head-header">
  <h1 class="head-authorH">
    <a href="/" class="head-authorLink">
      Dawninest</a>
  </h1>
  <div class="head-right">
    <!-- <div class="head-search">
      <input class="head-searchK"></input>
      <span class="head-searchT">
        </span>
    </div> -->
    <button class="barWrap" id="barWrap-toggle">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
    <div class="head-about" id="head-about">
      
      <a class="head-aboutLink" target="_blank" rel="noopener" href="https://github.com/Dawninest">
        GitHub</a>
      
    </div>
  </div>
</header>
    </div>
    <div class="main">
        <div class="barShow-head" id="barShow">
  <ul class="barShow-ul">
    
      <li class="barShow-item">
        <a href="/archives"><span>
            Archives</span></a>
      </li>
    
      <li class="barShow-item">
        <a href="/"><span>
            Tags</span></a>
      </li>
    
    
      <li class="barShow-item">
        <a class="head-aboutLink" target="_blank" rel="noopener" href="https://github.com/Dawninest">
          GitHub
        </a>
      </li>
    
  </ul>
</div>
      <div class="menu-nav">
  
  <div class="menu-navItem">
    <div class="menu-navItem-tit">
      <a href="/archives">
        <span>
          时间点</span>
      </a>
    </div>
    <div class="menu-navItem-cont">
        <div class="menu-navArchive-cont">
  <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a></li></ul>
</div>
    </div>
  </div>
  
  <div class="menu-navItem">
    <div class="menu-navItem-tit">
      <a href="/">
        <span>
          关键字</span>
      </a>
    </div>
    <div class="menu-navItem-cont">
        <div class="menu-navTag-cont">
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactNative/" rel="tag">ReactNative</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/" rel="tag">iOS</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macOS/" rel="tag">macOS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E8%AF%AD/" rel="tag">日语</a><span class="tag-list-count">1</span></li></ul>
</div>
    </div>
  </div>
  
</div>

<div id="index-content" class="content">

  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/03/22/09/">
        Objective-C | 动画
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-03-22 00:00:00" datetime="2016-03-21T16:00:00.000Z" itemprop="datePublished">
  2016-03-22
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h3 id="UIView动画"><a href="#UIView动画" class="headerlink" title="UIView动画"></a><strong>UIView</strong>动画</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[UIView animateWithDuration:1 delay:1 options:UIViewAnimationOptionCurveLinear animations:^&#123;</span><br><span class="line">        xxx</span><br><span class="line">&#125; completion:^(BOOL finished) &#123;</span><br><span class="line">				xxx</span><br><span class="line">&#125;];</span><br><span class="line">animateWithDuration-动画持续时间</span><br><span class="line">delay-动画延迟时间</span><br><span class="line">options-动画渐入渐出</span><br><span class="line">动画线性效果选择－options</span><br><span class="line">UIViewAnimationOptionCurveEaseInOut 匀加速－匀速－匀减速</span><br><span class="line">UIViewAnimationOptionCurveEaseIn    匀加速－匀速</span><br><span class="line">UIViewAnimationOptionCurveEaseOut   匀速－匀减速</span><br><span class="line">UIViewAnimationOptionCurveLinear    匀速</span><br><span class="line">animations-在动画持续时间内执行的变幻</span><br><span class="line">completion-该动画持续时间结束后执行的下一步动作，可在此嵌套下一步动画</span><br></pre></td></tr></table></figure>

<h4 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_animationView.transform = CGAffineTransformScale(_animationView.transform, 0.5, 0.5);</span><br></pre></td></tr></table></figure>

<h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_animationView.transform = CGAffineTransformRotate(_animationView.transform, M_PI_4);</span><br></pre></td></tr></table></figure>

<h4 id="变换动作－翻转"><a href="#变换动作－翻转" class="headerlink" title="变换动作－翻转"></a>变换动作－翻转</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[UIView transitionWithView:_animationView duration:1 options:UIViewAnimationOptionCurveEaseIn | UIViewAnimationOptionTransitionFlipFromLeft animations:nil completion:nil];</span><br><span class="line"></span><br><span class="line">options 多个可用 | 间隔</span><br><span class="line">翻转独有线性效果选项</span><br><span class="line">     UIViewAnimationOptionTransitionFlipFromLeft</span><br><span class="line">     UIViewAnimationOptionTransitionFlipFromRight</span><br></pre></td></tr></table></figure>

<h4 id="弹性动画"><a href="#弹性动画" class="headerlink" title="弹性动画"></a>弹性动画</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">usingSpringWithDamping 阻尼系数 0-1 越小越明显</span><br><span class="line">initialSpringVelocity 初始速度</span><br><span class="line"></span><br><span class="line">[UIView animateWithDuration:0.2 delay:0 usingSpringWithDamping:0.5 initialSpringVelocity:0 options:0 animations:^&#123;</span><br><span class="line"></span><br><span class="line">&#125; completion:^(BOOL finished)&#123;</span><br><span class="line"></span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<p>补充</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">UIViewAnimationOptions详细</span><br><span class="line">UIViewAnimationOptionLayoutSubviews //动画过程中保证子视图跟随运动</span><br><span class="line">UIViewAnimationOptionAllowUserInteraction //动画时允许用户交流，比如触摸</span><br><span class="line">UIViewAnimationOptionBeginFromCurrentState //所有视图从当前状态开始动画</span><br><span class="line">UIViewAnimationOptionRepeat //动画无限重复</span><br><span class="line">UIViewAnimationOptionAutoreverse //动画运行到结束点后仍然以动画方式回到初始点，前提是设置动画无限重复</span><br><span class="line">UIViewAnimationOptionOverrideInheritedDuration //忽略外层动画嵌套的执行时间</span><br><span class="line">UIViewAnimationOptionOverrideInheritedCurve //忽略外层动画嵌套的时间变化曲线</span><br><span class="line">UIViewAnimationOptionAllowAnimatedContent //通过改变属性和重绘实现动画效果，如果key没有提交动画将使用快照</span><br><span class="line">UIViewAnimationOptionShowHideTransitionViews //用显隐的方式替代添加移除图层的动画效果</span><br><span class="line">UIViewAnimationOptionOverrideInheritedOptions //不继承父动画设置或动画类型</span><br><span class="line">时间函数曲线相关</span><br><span class="line">UIViewAnimationOptionCurveEaseInOut //时间曲线函数，由慢到快</span><br><span class="line">UIViewAnimationOptionCurveEaseIn //时间曲线函数，由慢到特别快</span><br><span class="line">UIViewAnimationOptionCurveEaseOut //时间曲线函数，由快到慢</span><br><span class="line">UIViewAnimationOptionCurveLinear //时间曲线函数，匀速</span><br><span class="line">转场动画相关的</span><br><span class="line">UIViewAnimationOptionTransitionNone //无转场动画</span><br><span class="line">UIViewAnimationOptionTransitionFlipFromLeft //转场从左翻转</span><br><span class="line">UIViewAnimationOptionTransitionFlipFromRight //转场从右翻转</span><br><span class="line">UIViewAnimationOptionTransitionCurlUp //上卷转场</span><br><span class="line">UIViewAnimationOptionTransitionCurlDown //下卷转场</span><br><span class="line">UIViewAnimationOptionTransitionCrossDissolve //转场交叉消失</span><br><span class="line">UIViewAnimationOptionTransitionFlipFromTop //转场从上翻转</span><br><span class="line">UIViewAnimationOptionTransitionFlipFromBottom //转场从下翻转</span><br><span class="line">关键帧</span><br><span class="line">UIViewKeyframeAnimationOptionCalculationModeLinear    </span><br><span class="line">UIViewKeyframeAnimationOptionCalculationModeDiscrete   </span><br><span class="line">UIViewKeyframeAnimationOptionCalculationModePaced      </span><br><span class="line">UIViewKeyframeAnimationOptionCalculationModeCubic      </span><br><span class="line">UIViewKeyframeAnimationOptionCalculationModeCubicPaced</span><br></pre></td></tr></table></figure>

<h3 id="高级动画"><a href="#高级动画" class="headerlink" title="高级动画"></a>高级动画</h3><h3 id="CALayer-图层"><a href="#CALayer-图层" class="headerlink" title="CALayer 图层"></a><strong>CALayer</strong> 图层</h3><p>初始化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic,strong) CALayer *layer;</span><br><span class="line"> _layer = [CALayer layer];</span><br><span class="line"> _layer.backgroundColor = [UIColor colorWithRed:0.91 green:0.34 blue:0.31 alpha:1].CGColor;</span><br><span class="line">_layer.bounds = CGRectMake(0, 0, 50, 50);</span><br><span class="line">_layer.position = self.view.center;//设置中旬点</span><br><span class="line">_layer.shadowColor = [UIColor colorWithRed:0.21 green:0.6 blue:0.93 alpha:1].CGColor;</span><br><span class="line">_layer.shadowOffset = CGSizeMake(3, 3);</span><br><span class="line">_layer.shadowOpacity = 0.8; 透明度</span><br><span class="line">设置锚点,锚点的位置永远和中心点重合</span><br><span class="line">默认(0.5,0.5),即中心点，按照比例取值,(0,0)左上角,(1,1)右下角</span><br><span class="line">_layer.anchorPoint = CGPointMake(1, 1);</span><br><span class="line">[self.view.layer addSublayer:_layer];</span><br></pre></td></tr></table></figure>

<p>重写触摸事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event</span><br><span class="line">&#123;</span><br><span class="line">    [super touchesBegan:touches withEvent:event];</span><br><span class="line">    UITouch *touch = touches.anyObject;</span><br><span class="line">    CGPoint touchPoint = [touch locationInView:self.view];</span><br><span class="line">    CGFloat width = _layer.bounds.size.width;</span><br><span class="line">    if (width == 50) &#123;</span><br><span class="line">        width = 50 * 4;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        width = 50;</span><br><span class="line">    &#125;</span><br><span class="line">    _layer.bounds = CGRectMake(0, 0, width, width);</span><br><span class="line">    _layer.position = touchPoint;</span><br><span class="line">&#125;</span><br><span class="line">在使用CALayer 图层动画的时候，初始化之后的属性变化会自动以动画形式展现</span><br></pre></td></tr></table></figure>

<h4 id="CATransition-过渡动画"><a href="#CATransition-过渡动画" class="headerlink" title="CATransition 过渡动画"></a><strong>CATransition</strong> 过渡动画</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">CATransition *animation = [CATransition animation];</span><br><span class="line">持续时间</span><br><span class="line">animation.duration = 0.5;</span><br><span class="line">线性规律</span><br><span class="line">animation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionLinear];</span><br><span class="line">/*私有API 不可用于上架</span><br><span class="line"> cube、suckEffect、oglFlip、rippleEffect、pageCurl、pageUnCurl</span><br><span class="line"> cameraIrisHollowOpen、cameraIrisHollowClose</span><br><span class="line"> */</span><br><span class="line">animation.type = @&quot;rippleEffect&quot;;</span><br><span class="line">过渡动画类型 kCATransition</span><br><span class="line">kCATransitionFade</span><br><span class="line">kCATransitionMoveIn</span><br><span class="line">kCATransitionPush</span><br><span class="line">kCATransitionReveal </span><br><span class="line">animation.type = kCATransitionPush;</span><br><span class="line"></span><br><span class="line">配置转场动画子类型</span><br><span class="line">animation.subtype = kCATransitionFromLeft;</span><br><span class="line">添加动画</span><br><span class="line">[self.view.layer addAnimation:animation forKey:@&quot;transition&quot;];</span><br></pre></td></tr></table></figure>

<h4 id="CABasicAnimation-基础动画"><a href="#CABasicAnimation-基础动画" class="headerlink" title="CABasicAnimation 基础动画"></a><strong>CABasicAnimation</strong> 基础动画</h4><p>先确定基础动画的类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">CABasicAnimation *positionAnimation = [CABasicAnimation animationWithKeyPath:@&quot;position&quot;];</span><br><span class="line">持续时间</span><br><span class="line">positionAnimation.duration = 0.5;</span><br><span class="line">运动线性</span><br><span class="line">positionAnimation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];</span><br><span class="line">动画的初始值-默认初始化的属性</span><br><span class="line">positionAnimation.fromValue = [NSValue valueWithCGPoint:self.view.center];</span><br><span class="line">动画的终止值</span><br><span class="line">positionAnimation.toValue = [NSValue valueWithCGPoint:CGPointMake(CGRectGetMidX(self.view.bounds), 100)];</span><br><span class="line">动画完成后是否回到原位，默认yes</span><br><span class="line">positionAnimation.removedOnCompletion = NO;</span><br><span class="line">positionAnimation.fillMode = kCAFillModeBoth;</span><br><span class="line">决定当前对象在非active时间段的行为.比如动画开始之前,动画结束之后</span><br><span class="line">     kCAFillModeRemoved 这个是默认值,也就是说当动画开始前和动画结束后,动画对layer都没有影响,动画结束后,layer会恢复到之前的状态</span><br><span class="line">     kCAFillModeForwards 当动画结束后,layer会一直保持着动画最后的状态.</span><br><span class="line">     kCAFillModeBackwards 在动画开始前,你只要将动画加入了一个layer,layer便立即进入动画的初始状态并等待动画开始. 你可以这样设定测试代码,将一个动画加入一个layer的时候延迟5秒执行.然后就会发现在动画没有开始的时候,只要动画被加入了layer,layer便处于动画初始状态</span><br><span class="line">     kCAFillModeBoth 这个其实就是上面两个的合成.动画加入后开始之前,layer便处于动画初始状态,动画结束后layer保持动画最后的状</span><br><span class="line">添加动画</span><br><span class="line">[self.view.layer addAnimation:positionAnimation forKey:@&quot;position&quot;];</span><br></pre></td></tr></table></figure>

<p>animationWithKeyPath可选类型有</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">transform.scale  比例转换</span><br><span class="line">transform.scale.x  宽的比例轉換</span><br><span class="line">transform.scale.y  高的比例轉換</span><br><span class="line">transform.rotation.z  平面园的旋轉</span><br><span class="line">opacity  透明度</span><br><span class="line">margin  边缘</span><br><span class="line">zPosition  </span><br><span class="line">backgroundColor    背景颜色</span><br><span class="line">cornerRadius    圆角</span><br><span class="line">borderWidth 边框宽度</span><br><span class="line">bounds 大小</span><br><span class="line">contents 内容</span><br><span class="line">contentsRect 内容矩形</span><br><span class="line">cornerRadius 圆角半径</span><br><span class="line">frame 位置及尺寸</span><br><span class="line">hidden 隐藏</span><br><span class="line">mask 遮罩</span><br><span class="line">masksToBounds 遮住边界</span><br><span class="line">position 位置</span><br><span class="line">shadowColor 阴影颜色</span><br><span class="line">shadowOffset 阴影偏移</span><br><span class="line">shadowOpacity 阴影透明度</span><br><span class="line">shadowRadius 阴影半径</span><br></pre></td></tr></table></figure>

<h4 id="CAKeyframeAnimation-关键帧动画"><a href="#CAKeyframeAnimation-关键帧动画" class="headerlink" title="CAKeyframeAnimation 关键帧动画"></a><strong>CAKeyframeAnimation</strong> 关键帧动画</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CAKeyframeAnimation *keyFrameAnimation = [CAKeyframeAnimation animationWithKeyPath:@&quot;position&quot;];</span><br><span class="line">keyFrameAnimation.duration = 2;</span><br><span class="line">keyFrameAnimation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];</span><br><span class="line">利用贝塞尔曲线绘制动画路径</span><br><span class="line">UIBezierPath *path = [UIBezierPath bezierPath];</span><br><span class="line">曲线起点</span><br><span class="line">[path moveToPoint:self.view.center];</span><br><span class="line">曲线轨迹(运动中将经过的点)</span><br><span class="line">[path addLineToPoint:CPM(MID_X, MID_Y + 200)];</span><br><span class="line">[path addLineToPoint:CPM(MID_X + 100, MID_Y + 200)];</span><br><span class="line">闭合路径</span><br><span class="line">[path addLineToPoint:CPM(MID_X + 100, MID_Y + 0)];</span><br><span class="line">设置动画的路径</span><br><span class="line">keyFrameAnimation.path = path.CGPath;</span><br><span class="line">keyFrameAnimation.removedOnCompletion = NO;</span><br><span class="line">keyFrameAnimation.fillMode = kCAFillModeForwards;</span><br><span class="line">配置关键帧的时间控制－按照比例分配每一段运动轨迹时间</span><br><span class="line">keyFrameAnimation.keyTimes = @[@&quot;0.0&quot;,@&quot;0.5&quot;,@&quot;0.75&quot;,@&quot;1.0&quot;];</span><br><span class="line"></span><br><span class="line">[self.view.layer addAnimation:keyFrameAnimation forKey:@&quot;position&quot;];</span><br></pre></td></tr></table></figure>

<h4 id="CAAnimationGroup-动画组"><a href="#CAAnimationGroup-动画组" class="headerlink" title="CAAnimationGroup 动画组"></a><strong>CAAnimationGroup</strong> 动画组</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">例:组合两个基础动画</span><br><span class="line">动画1</span><br><span class="line">CABasicAnimation *positionAnimation = [CABasicAnimation animationWithKeyPath:@&quot;position&quot;];</span><br><span class="line">positionAnimation.fromValue = [NSValue valueWithCGPoint:self.view.center];</span><br><span class="line">positionAnimation.toValue = [NSValue valueWithCGPoint:CGPointMake(CGRectGetMidX(self.view.bounds), 100)];</span><br><span class="line">动画2</span><br><span class="line">CABasicAnimation *opacityAnimation = [CABasicAnimation animationWithKeyPath:@&quot;opacity&quot;];</span><br><span class="line">opacityAnimation.fromValue = @(1.0);</span><br><span class="line">opacityAnimation.toValue = @(0.4);</span><br><span class="line">动画组</span><br><span class="line">CAAnimationGroup *group = [CAAnimationGroup animation];</span><br><span class="line">group.animations = @[positionAnimation,opacityAnimation];</span><br><span class="line">group.duration = 1;</span><br><span class="line">group.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];</span><br><span class="line">group.removedOnCompletion = NO;</span><br><span class="line">group.fillMode = kCAFillModeForwards;</span><br><span class="line">[self.view.layer addAnimation:group forKey:@&quot;group&quot;];</span><br></pre></td></tr></table></figure>

<h4 id="渐变色"><a href="#渐变色" class="headerlink" title="渐变色"></a>渐变色</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CAGradientLayer *gradientLayer = [CAGradientLayer layer];</span><br><span class="line">gradientLayer.frame = self.view.bounds;</span><br><span class="line">gradientLayer.colors = @[(__bridge id)[UIColor colorWithRed:1.00 green:0.56 blue:0.00 alpha:1.00].CGColor,(__bridge id)[UIColor colorWithRed:0.26 green:0.79 blue:0.52 alpha:1.00].CGColor];</span><br><span class="line">[self.view.layer addSublayer:gradientLayer];</span><br></pre></td></tr></table></figure>


    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/03/18/08/">
        Objective-C | 手势触摸
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-03-18 00:00:00" datetime="2016-03-17T16:00:00.000Z" itemprop="datePublished">
  2016-03-18
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h3 id="手势"><a href="#手势" class="headerlink" title="手势"></a>手势</h3><h4 id="建立手势对象"><a href="#建立手势对象" class="headerlink" title="建立手势对象"></a>建立手势对象</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">_animationView = [[UIView alloc]init];</span><br><span class="line">_animationView.bounds = CGRectMake(0, 0, 200, 200);</span><br><span class="line">_animationView.center = self.view.center;</span><br><span class="line">_animationView.backgroundColor = [UIColor colorWithRed:0.21 green:0.6 blue:0.93 alpha:1];</span><br><span class="line">[self.view addSubview:_animationView];</span><br><span class="line">//打开用户交互 如果是imageView，则需要打开交互</span><br><span class="line">_animationView.userInteractionEnabled = YES;</span><br></pre></td></tr></table></figure>

<h4 id="单击手势"><a href="#单击手势" class="headerlink" title="单击手势"></a>单击手势</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.初始化手势控制器-单击手势控制器</span><br><span class="line">UITapGestureRecognizer *tapGes = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tapAnimationView:)];</span><br><span class="line">2.为视图添加手势</span><br><span class="line">[_animationView addGestureRecognizer:tapGes];</span><br></pre></td></tr></table></figure>

<h4 id="缩放手势"><a href="#缩放手势" class="headerlink" title="缩放手势"></a>缩放手势</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">UIPinchGestureRecognizer *pinchGes = [[UIPinchGestureRecognizer alloc]initWithTarget:self action:@selector(pinchAnimationView:)];</span><br><span class="line">[_animationView addGestureRecognizer:pinchGes];</span><br><span class="line">缩放事件</span><br><span class="line">- (void)pinchAnimationView:(UIPinchGestureRecognizer *)gesture</span><br><span class="line">&#123;</span><br><span class="line">	if (gesture.state ==  UIGestureRecognizerStateChanged) &#123;</span><br><span class="line">      /*</span><br><span class="line">       UIGestureRecognizerStateBegan     开始－开始点击</span><br><span class="line">       UIGestureRecognizerStateChanged   改变－每一次移动手指</span><br><span class="line">       UIGestureRecognizerStateEnded     结束－手指挪开</span><br><span class="line">       */</span><br><span class="line">      CGAffineTransformScale变幻效果的叠加的</span><br><span class="line">      当手势改变时执行缩放操作</span><br><span class="line">      gesture.view.transform = CGAffineTransformScale(gesture.view.transform, gesture.scale, gesture.scale);</span><br><span class="line">      保存缩放系数为1</span><br><span class="line">      gesture.scale = 1;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="拖动手势"><a href="#拖动手势" class="headerlink" title="拖动手势"></a>拖动手势</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">UIPanGestureRecognizer *panGes = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(panAnimationView:)];</span><br><span class="line">[_animationView addGestureRecognizer:panGes];</span><br><span class="line">拖动事件</span><br><span class="line">- (void)panAnimationView:(UIPanGestureRecognizer *)gesture</span><br><span class="line">&#123;</span><br><span class="line">    if (gesture.state == UIGestureRecognizerStateChanged) &#123;</span><br><span class="line">        获取手指在指定视图(self.view)的移动坐标</span><br><span class="line">        CGPoint transition = [gesture translationInView:self.view];</span><br><span class="line">       更新 _animationView 的center</span><br><span class="line">        gesture.view.center = CGPointMake(gesture.view.center.x + transition.x, gesture.view.center.y + transition.y);</span><br><span class="line">        把增量设置为0</span><br><span class="line">        [gesture setTranslation:CGPointZero inView:self.view];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="触摸"><a href="#触摸" class="headerlink" title="触摸"></a>触摸</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">触摸针对的是整个View，是视图控制器自带方法，用的时候直接重写</span><br><span class="line">- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event</span><br><span class="line">&#123;</span><br><span class="line">    [super touchesBegan:touches withEvent:event];</span><br><span class="line">    //拿到当前点击位置 通过UITouch</span><br><span class="line">    UITouch *nowTouch = touches.anyObject;</span><br><span class="line">    CGPoint location = [nowTouch locationInView:self.view];</span><br><span class="line">    //弹性动画</span><br><span class="line">    //usingSpringWithDamping 阻尼系数 0-1 越小越明显</span><br><span class="line">    //initialSpringVelocity 初始速度</span><br><span class="line">    [UIView animateWithDuration:0.2 delay:0 usingSpringWithDamping:0.5 initialSpringVelocity:0 options:0 animations:^&#123;</span><br><span class="line">        //更新图片坐标-加动画</span><br><span class="line">        _imageView.bounds = CGRectMake(0, 0, 120, 120);</span><br><span class="line">        _imageView.center = location;</span><br><span class="line">    &#125; completion:^(BOOL finished)&#123;</span><br><span class="line">        [UIView animateWithDuration:0.2 delay:0 usingSpringWithDamping:0.5 initialSpringVelocity:0 options:0 animations:^&#123;</span><br><span class="line">            _imageView.bounds = CGRectMake(0, 0, 80, 80);</span><br><span class="line">        &#125; completion:nil];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/03/15/07/">
        Objective-C | 数据的外部储存和读取
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-03-15 00:00:00" datetime="2016-03-14T16:00:00.000Z" itemprop="datePublished">
  2016-03-15
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h3 id="设备存储路径"><a href="#设备存储路径" class="headerlink" title="设备存储路径"></a>设备存储路径</h3><p>每一个App，iOS系统将会预设3个文件夹体感存储功能</p>
<ul>
<li>documents路径</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *documentString = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];</span><br></pre></td></tr></table></figure>

<ul>
<li>library路径</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *libraryString = [NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES)lastObject];</span><br></pre></td></tr></table></figure>

<ul>
<li>tmp路径 － tmp作为临时存储，不向其中存储需要持久保留的数据</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *tmpString = NSTemporaryDirectory();</span><br></pre></td></tr></table></figure>

<h4 id="把工程中的图片写入沙盒"><a href="#把工程中的图片写入沙盒" class="headerlink" title="把工程中的图片写入沙盒"></a>把工程中的图片写入沙盒</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.保存图片的路径</span><br><span class="line">NSString *documentString = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];</span><br><span class="line">NSString *saveImagePath = [documentString stringByAppendingString:@“/图片名”];</span><br><span class="line">2.获取图片</span><br><span class="line">NSString *path = [[NSBundle mainBundle]pathForResource:@“图片名” ofType:@“png”];</span><br><span class="line">UIImage *image = [UIImage imageWithContentsOfFile:path];</span><br><span class="line">3.把图片转换为data</span><br><span class="line">NSData *imageData = UIImagePNGRepresentation(image);</span><br><span class="line">4.写入沙盒</span><br><span class="line">NSFileManager *manager = [NSFileManager defaultManager];//单例</span><br><span class="line">if (![manager fileExistsAtPath:saveImagePath]) &#123;</span><br><span class="line">    [manager createFileAtPath:saveImagePath contents:imageData attributes:nil];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">读取指定文件下的图片</span><br><span class="line">[UIImage imageWithContentsOfFile:saveImagePath];</span><br></pre></td></tr></table></figure>

<h3 id="存储自定义对象"><a href="#存储自定义对象" class="headerlink" title="存储自定义对象"></a>存储自定义对象</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">例子:存储联系人信息数组</span><br><span class="line"></span><br><span class="line">存储</span><br><span class="line">1.获取联系人对象</span><br><span class="line">Contact *acontact = [[Contact alloc]initWithDictionary:[self userDic]];</span><br><span class="line">2.获取保存文件路径</span><br><span class="line">NSString *plistPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];</span><br><span class="line">plistPath = [plistPath stringByAppendingString:@&quot;/data.plist&quot;];</span><br><span class="line">3.初始化写入沙盒的数组</span><br><span class="line">NSMutableArray *dataList = [NSMutableArray array];</span><br><span class="line">4.归档(自动调用归档方法)</span><br><span class="line">NSData *data = [NSKeyedArchiver archivedDataWithRootObject:acontact];</span><br><span class="line">5.把归档所得数据添加的数组</span><br><span class="line">[dataList addObject:data];</span><br><span class="line">6.将数组写入沙盒</span><br><span class="line">BOOL success = [dataList writeToFile:plistPath atomically:YES];</span><br><span class="line">NSLog(@&quot;是否保存成功:%d&quot;,success);</span><br><span class="line"></span><br><span class="line">读取</span><br><span class="line">1.获取保存文件的路径</span><br><span class="line">NSString *plistPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];</span><br><span class="line">plistPath = [plistPath stringByAppendingString:@&quot;/data.plist&quot;];</span><br><span class="line">2.读取沙盒文件</span><br><span class="line">NSArray *results = [NSArray arrayWithContentsOfFile:plistPath];</span><br><span class="line">3.解档</span><br><span class="line">NSData *data = results[0];//取出data</span><br><span class="line">Contact *acontact = [NSKeyedUnarchiver unarchiveObjectWithData:data];</span><br><span class="line"></span><br><span class="line">删除</span><br><span class="line">1.获取保存文件的路径</span><br><span class="line">NSString *plistPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];</span><br><span class="line">plistPath = [plistPath stringByAppendingString:@&quot;/data.plist&quot;];</span><br><span class="line">2.清除</span><br><span class="line">NSFileManager *manager = [NSFileManager defaultManager];</span><br><span class="line">BOOL success = [manager removeItemAtPath:plistPath error:nil];</span><br><span class="line">NSLog(@&quot;是否清除成功:%d&quot;,success);</span><br></pre></td></tr></table></figure>

<h3 id="NSUserDefaults-存沙盒"><a href="#NSUserDefaults-存沙盒" class="headerlink" title="NSUserDefaults 存沙盒"></a><strong>NSUserDefaults</strong> 存沙盒</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">存</span><br><span class="line">[[NSUserDefaults standardUserDefaults] setObject:@[@&quot;1&quot;] forKey:@&quot;mydata&quot;];</span><br><span class="line">[[NSUserDefaults standardUserDefaults] synchronize];//同步至沙盒</span><br><span class="line">取</span><br><span class="line">NSArray *array = [[NSUserDefaults standardUserDefaults] objectForKey:@&quot;mydata&quot;];</span><br></pre></td></tr></table></figure>


    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/03/14/06/">
        Objective-C | 相册和相机
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-03-14 00:00:00" datetime="2016-03-13T16:00:00.000Z" itemprop="datePublished">
  2016-03-14
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h3 id="获取相册照片"><a href="#获取相册照片" class="headerlink" title="获取相册照片"></a>获取相册照片</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (void)selectAlbum &#123;</span><br><span class="line">    UIImagePickerController *imagePicker = [[UIImagePickerController alloc]init];</span><br><span class="line">    imagePicker.delegate = self;</span><br><span class="line">    //picker的资源类型</span><br><span class="line">    imagePicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;</span><br><span class="line">    //是否编辑照片</span><br><span class="line">    imagePicker.allowsEditing = YES;</span><br><span class="line">    [self presentViewController:imagePicker animated:YES completion:nil];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="开启相机功能采集图片"><a href="#开启相机功能采集图片" class="headerlink" title="开启相机功能采集图片"></a>开启相机功能采集图片</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (void)takePhoto &#123;</span><br><span class="line">    if (![UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) &#123;</span><br><span class="line">        NSLog(@&quot;error&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    UIImagePickerController *imagePicker = [[UIImagePickerController alloc]init];</span><br><span class="line">    imagePicker.delegate = self;</span><br><span class="line">    //picker的资源类型</span><br><span class="line">    imagePicker.sourceType = UIImagePickerControllerSourceTypeCamera;</span><br><span class="line">    //是否编辑照片</span><br><span class="line">    //imagePicker.allowsEditing = YES;</span><br><span class="line">    </span><br><span class="line">    [self presentViewController:imagePicker animated:YES completion:nil];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="图片获得"><a href="#图片获得" class="headerlink" title="图片获得"></a>图片获得</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary&lt;NSString *,id&gt; *)info</span><br><span class="line">&#123;</span><br><span class="line">    //NSLog(@&quot;%@&quot;,info);</span><br><span class="line">    _imageView.image = info[@&quot;UIImagePickerControllerEditedImage&quot;];</span><br><span class="line">    [picker dismissViewControllerAnimated:YES completion:nil];//选择完后隐藏选择图片功能</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/03/11/05/">
        Objective-C | UI
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-03-11 00:00:00" datetime="2016-03-10T16:00:00.000Z" itemprop="datePublished">
  2016-03-11
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h3 id="UILaber"><a href="#UILaber" class="headerlink" title="UILaber"></a><strong>UILaber</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">lable = [[UILabel alloc]initWithFrame:CGRectMake(0, 20, 375,30)];</span><br><span class="line">lable.backgroundColor = [UIColor grayColor];</span><br><span class="line">lable.text = @“laber”;</span><br><span class="line">lable.textColor = [UIColor whiteColor];</span><br><span class="line">lable.backgroudColor=[UIColor clearColor]; </span><br><span class="line">lable.textAlignment = NSTextAlignmentCenter;</span><br><span class="line">//设置字体大小适应label宽度</span><br><span class="line">lable.adjustsFontSizeToFitWidth = YES;</span><br><span class="line">lable.font = [UIFont systemFontOfSize:18];</span><br><span class="line">//字体大小，粗细</span><br><span class="line">lable.font = [UIFont systemFontOfSize:18 weight:UIFontWeightThin];</span><br><span class="line">//字体加粗，并设置字号</span><br><span class="line">lable.font = [UIFont boldSystemFontOfSize:25];</span><br><span class="line">//字体倾斜，并设置字号，对中文无效</span><br><span class="line">lable.font = [UIFont italicSystemFontOfSize:25];</span><br><span class="line">//设置高亮 </span><br><span class="line">lable.highlighted = YES;     </span><br><span class="line">lable.highlightedTextColor = [UIColor orangeColor];</span><br><span class="line">//设置阴影</span><br><span class="line">lable.shadowColor = [UIColor redColor];     </span><br><span class="line">lable.shadowOffset = CGSizeMake(1.0,1.0); //偏移量</span><br><span class="line">//设置是否能与用户进行交互     </span><br><span class="line">lable.userInteractionEnabled = YES;   </span><br><span class="line">//设置label中的文字是否可变，默认值是YES     </span><br><span class="line">lable.enabled = NO;</span><br><span class="line">//文字显示的最大行数</span><br><span class="line">lable.numberofLines = 0</span><br><span class="line">//numberofLines = 0 时设置文字过长时的显示格式     </span><br><span class="line">lable.lineBreakMode = UILineBreakModeMiddleTruncation;//截去中间</span><br></pre></td></tr></table></figure>

<h3 id="UITextField"><a href="#UITextField" class="headerlink" title="UITextField"></a><strong>UITextField</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">UITextField *textField = [[UITextField alloc]initWithFrame:CGRectMake(20, 100, 335, 34)];</span><br><span class="line">//文本框的边框设定 个人觉得最后一种最好看</span><br><span class="line">textField.borderStyle = UITextBorderStyleLine;</span><br><span class="line">		    								UITextBorderStyleNone,</span><br><span class="line">    		    						UITextBorderStyleLine,</span><br><span class="line">   		    							UITextBorderStyleBezel,</span><br><span class="line">  		    							UITextBorderStyleRoundedRect</span><br><span class="line">//文本框内默认文字</span><br><span class="line">textField.text = @“11”;</span><br><span class="line">//文本框内提示文字</span><br><span class="line">textField.placeholder = @&quot;请输入文本&quot;;</span><br><span class="line">//设置输入框内容的字体样式和大小</span><br><span class="line">textField.font = [UIFont fontWithName:@&quot;Arial&quot; size:20];</span><br><span class="line">//设置字体颜色</span><br><span class="line">textField.textColor = [UIColor redColor];</span><br><span class="line">//设置输入框的背景颜色，如果使用了自定义的背景图片边框会被忽略掉　</span><br><span class="line">textField.backgroundColor = [UIColor whiteColor];</span><br><span class="line">//设置背景</span><br><span class="line">textField.background = [UIImage imageNamed:@&quot;dd.png&quot;];</span><br><span class="line">//设置disabled状态的背景 </span><br><span class="line">textField.disabledBackground = [UIImage imageNamed:@&quot;cc.png&quot;];</span><br><span class="line">//设置清除按钮模式</span><br><span class="line">textField.clearButtonMode = UITextFieldViewModeAlways;</span><br><span class="line">    												UITextFieldViewModeNever,　从不出现</span><br><span class="line">    												UITextFieldViewModeWhileEditing, 编辑时出现</span><br><span class="line">    												UITextFieldViewModeUnlessEditing,　除了编辑外都出现</span><br><span class="line">    												UITextFieldViewModeAlways 　一直出现</span><br><span class="line">//是否纠错</span><br><span class="line">textField.autocorrectionType = UITextAutocorrectionTypeNo;</span><br><span class="line">    													 UITextAutocorrectionTypeDefault, 默认</span><br><span class="line">    													 UITextAutocorrectionTypeNo, 　不自动纠错</span><br><span class="line">    													 UITextAutocorrectionTypeYes,　自动纠错</span><br><span class="line">//再次编辑就清空</span><br><span class="line">textField.clearsOnBeginEditing = YES;</span><br><span class="line">//内容对齐方式</span><br><span class="line">textField.textAlignment = NSTextAlignmentLeft; // center/right</span><br><span class="line">//内容的垂直对齐方式</span><br><span class="line">textField.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;</span><br><span class="line">//设置为YES时文本会自动缩小以适应文本窗口大小.默认是保持原来大小,而让长文本滚动　</span><br><span class="line">textFied.adjustsFontSizeToFitWidth = YES;</span><br><span class="line">//设置自动缩小显示的最小字体大小</span><br><span class="line">textField.minimumFontSize = 20;</span><br><span class="line">//设置键盘的样式</span><br><span class="line">textField.keyboardType = UIKeyboardTypeNumberPad;</span><br><span class="line">    UIKeyboardTypeDefault,     　默认键盘，支持所有字符         </span><br><span class="line">    UIKeyboardTypeASCIICapable,　支持ASCII的默认键盘</span><br><span class="line">    UIKeyboardTypeNumbersAndPunctuation,　标准电话键盘，支持＋＊＃字符</span><br><span class="line">    UIKeyboardTypeURL,            URL键盘，支持.com按钮 只支持URL字符</span><br><span class="line">    UIKeyboardTypeNumberPad,            　数字键盘</span><br><span class="line">    UIKeyboardTypePhonePad,　 　电话键盘</span><br><span class="line">    UIKeyboardTypeNamePhonePad, 　电话键盘，也支持输入人名</span><br><span class="line">    UIKeyboardTypeEmailAddress, 　用于输入电子 邮件地址的键盘     </span><br><span class="line">    UIKeyboardTypeDecimalPad,   　数字键盘 有数字和小数点</span><br><span class="line">    UIKeyboardTypeTwitter,      　优化的键盘，方便输入@、#字符</span><br><span class="line">//首字母是否大写</span><br><span class="line">text.autocapitalizationType = UITextAutocapitalizationTypeNone;</span><br><span class="line">    UITextAutocapitalizationTypeNone, 不自动大写</span><br><span class="line">    UITextAutocapitalizationTypeWords,　单词首字母大写</span><br><span class="line">    UITextAutocapitalizationTypeSentences,　句子的首字母大写</span><br><span class="line">    UITextAutocapitalizationTypeAllCharacters, 所有字母都大写</span><br><span class="line">//return键变成什么键</span><br><span class="line">text.returnKeyType =UIReturnKeyDone;</span><br><span class="line">    UIReturnKeyDefault, 默认 灰色按钮，标有Return</span><br><span class="line">    UIReturnKeyGo,    　标有Go的蓝色按钮</span><br><span class="line">    UIReturnKeyGoogle,标有Google的蓝色按钮，用语搜索</span><br><span class="line">    UIReturnKeyJoin,标有Join的蓝色按钮</span><br><span class="line">    UIReturnKeyNext,标有Next的蓝色按钮</span><br><span class="line">    UIReturnKeyRoute,标有Route的蓝色按钮</span><br><span class="line">    UIReturnKeySearch,标有Search的蓝色按钮</span><br><span class="line">    UIReturnKeySend,标有Send的蓝色按钮</span><br><span class="line">    UIReturnKeyYahoo,标有Yahoo的蓝色按钮</span><br><span class="line">    UIReturnKeyYahoo,标有Yahoo的蓝色按钮</span><br><span class="line">    UIReturnKeyEmergencyCall, 紧急呼叫按钮</span><br><span class="line">//键盘外观</span><br><span class="line">text.keyboardAppearance=UIKeyboardAppearanceDefault</span><br><span class="line">    UIKeyboardAppearanceDefault， 默认外观，浅灰色</span><br><span class="line">    UIKeyboardAppearanceAlert，　 　深灰 石墨色</span><br><span class="line">//密码隐藏－安全输入模式</span><br><span class="line">    textField.secureTextEntry = NO;//默认NO,得手动开启</span><br><span class="line">//文本自适应</span><br><span class="line">[textField sizeToFit];</span><br><span class="line">//回收键盘</span><br><span class="line">[textField resignFirstResponder];</span><br></pre></td></tr></table></figure>

<h3 id="UIButton"><a href="#UIButton" class="headerlink" title="UIButton"></a><strong>UIButton</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">UIButton *button = [UIButton buttonWithType:UIButtonTypeSystem];</span><br><span class="line">//很多功能在选择系统风格时不能设置，所以尽量多写成自定义功能　　</span><br><span class="line">	UIButtonTypeCustom = 0, 自定义风格</span><br><span class="line">	UIButtonTypeRoundedRect, 圆角矩形</span><br><span class="line">	UIButtonTypeDetailDisclosure, 蓝色小箭头按钮，主要做详细说明用</span><br><span class="line">	UIButtonTypeInfoLight, 亮色感叹号</span><br><span class="line">	UIButtonTypeInfoDark, 暗色感叹号</span><br><span class="line">	UIButtonTypeContactAdd, 十字加号按钮</span><br><span class="line">//设置button标题和标题颜色</span><br><span class="line">[button setTitle:@&quot;点击&quot; forState:UIControlStateNormal];</span><br><span class="line">[button setTitleColor:[UIColorredColor]forState:UIControlStateNormal];</span><br><span class="line">	UIControlStateNormal = 0, 常规状态显现</span><br><span class="line">	UIControlStateHighlighted = 1 &lt;&lt; 0, 高亮状态显现</span><br><span class="line">	UIControlStateDisabled = 1 &lt;&lt; 1, 禁用的状态才会显现</span><br><span class="line">	UIControlStateSelected = 1 &lt;&lt; 2, 选中状态</span><br><span class="line">button.titleLabel.font = [UIFont systemFontOfSize: 25];</span><br><span class="line">按钮边框宽度及颜色</span><br><span class="line">[button.layer setBorderWidth:1.0]; //边框宽度</span><br><span class="line">[button.layer setBorderColor:[UIColor colorWithWhite:1.0 alpha:0.8].CGColor];</span><br><span class="line">设置按钮按下会发光</span><br><span class="line">button.showsTouchWhenHighlighted=NO;</span><br><span class="line">//设置字体颜色  </span><br><span class="line">[button setTintColor:[UIColor colorWithRed:0.16 green:0.16 blue:0.17 alpha:1]];  </span><br><span class="line">//按钮背景颜色</span><br><span class="line">button.backgroundColor = [UIColor colorWithRed:0.24 green:0.71 blue:0.87 alpha:1];</span><br><span class="line">//圆角</span><br><span class="line">button.layer.cornerRadius = 10;</span><br><span class="line">button.clipsToBounds = YES;</span><br><span class="line">//文字位置</span><br><span class="line">btn.contentHorizontalAlignment = UIControlContentHorizonAlignmentLeft;</span><br><span class="line">//但是问题又出来，此时文字会紧贴到做边框，我们可以设置</span><br><span class="line">btn.contentEdgeInsets = UIEdgeInsetsMake(0,10, 0, 0);</span><br><span class="line">//添加或删除事件处理</span><br><span class="line">　　[button addTarget:self action:@selector(buttonTaped:) forControlEvents:UIControlEventTouchUpInside];</span><br><span class="line">　　[button removeTarget:nil action:nil forControlEvents:UIControlEventTouchUpInside];</span><br><span class="line">//设置button填充图片和背景图片</span><br><span class="line">[buttonsetImage:[UIImageimageNamed:@&quot;xx&quot;]forState:UIControlStateNormal];</span><br><span class="line">[buttonsetBackgroundImage:[UIImageimageNamed:@&quot;xx&quot;]forState:UIControlStateNormal];</span><br><span class="line">//方法的延迟调用</span><br><span class="line">[self performSelector:@selector(jump) withObject:nil afterDelay:2];</span><br></pre></td></tr></table></figure>

<h3 id="UIImage-amp-UIImageView"><a href="#UIImage-amp-UIImageView" class="headerlink" title="UIImage &amp; UIImageView"></a><strong>UIImage &amp; UIImageView</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">主要使用 png 和 jpg</span><br><span class="line">通过路径获取图片</span><br><span class="line">NSString *path = [[NSBundle mainBundle]resourcePath]; 工程路径</span><br><span class="line">NSString *imagePath = [NSString stringWithFormat:@“%@/1.png”,path];</span><br><span class="line">UIImage *image = [UIImage alloc]initWithContentsOfFile:imagePath]；</span><br><span class="line">加载效率地，但是对内存需求低，针对比较大的图使用</span><br><span class="line">通过名称获取图片</span><br><span class="line">UIImage *image = [UIImage imageNamed:@“图片名(png),或者 图片名.jpg”];</span><br><span class="line">这种方式的话，图片会被缓存到内存中，再次加载时，效率更高，当程序结束时，图片才会被释放，此方法对内存需求高</span><br><span class="line">针对比较小而多的，而且使用次数多的图使用，比如qq表情包</span><br><span class="line">图像旋转</span><br><span class="line">UIImageOrientation myOrientation = Image.imageOrientation ;</span><br><span class="line">可以设置以下方向：</span><br><span class="line">typedef enum &#123;</span><br><span class="line">  UIImageOrientationUp,            // default orientation  默认方向</span><br><span class="line">  UIImageOrientationDown,          // 180 deg rotation    旋转180度</span><br><span class="line">  UIImageOrientationLeft,          // 90 deg CCW         逆时针旋转90度</span><br><span class="line">  UIImageOrientationRight,         // 90 deg CW          顺时针旋转90度</span><br><span class="line">  UIImageOrientationUpMirrored,    // as above but image mirrored along other axis. horizontal flip   向上水平翻转</span><br><span class="line">  UIImageOrientationDownMirrored,  // horizontal flip    向下水平翻转</span><br><span class="line">  UIImageOrientationLeftMirrored,  // vertical flip      逆时针旋转90度，垂直翻转</span><br><span class="line">  UIImageOrientationRightMirrored, // vertical flip      顺时针旋转90度，垂直翻转</span><br><span class="line">&#125; UIImageOrientation;</span><br><span class="line">图片载体UI-ImageView</span><br><span class="line">显示的图片的大小和比例是由载体控制的，所以最好在设置载体时使用 image.size.width/height,这样就不会被拉变形</span><br><span class="line">UIImageView *imageView = [[UIImageView alloc]initWithImage:image];</span><br><span class="line">imageView.frame:CGRectMake(0 ,0 , 100, 100); </span><br><span class="line">注意:png格式的图片，镂空的地方会被设置为透明的，可以设置载体背景色</span><br><span class="line">imageView.backgroundColor = [UIColor yellowColor];</span><br><span class="line">圆角</span><br><span class="line">imageView.layer.masksToBounds = YES;</span><br><span class="line">imageView.layer.cornerRadius = 10;</span><br><span class="line">边框</span><br><span class="line">imageView.layer.borderColor = [UIColor orangeColor].CGColor;//颜色</span><br><span class="line">imageView.layer.borderWidth = 2;//宽度</span><br><span class="line">内容模式</span><br><span class="line">imageView.contentMode = UIViewContentModeCenter; </span><br><span class="line">图片居中显示，图片会保持原图大小，不再强制改成载体大小，</span><br><span class="line">默认ModeScaleToFill-拉伸充满整个载体</span><br><span class="line">ModeScaleAspectFill-拉伸但是不改变比例，充满最大的一边</span><br><span class="line">ModeScaleAspectFit -拉伸但是不改变比例，充满最小的一边</span><br><span class="line">播放一系列图片</span><br><span class="line">UIImage *image1 = [UIImage imageNamed:@“1”];</span><br><span class="line">UIImage *image2 = [UIImage imageNamed:@“2”];</span><br><span class="line">UIImage *image3 = [UIImage imageNamed:@“3”];</span><br><span class="line">NSArray *imagesArray = @[image1,image2,image3];</span><br><span class="line">imageView.animationImages = imagesArray;</span><br><span class="line">// 设定所有的图片在多少秒内播放完毕</span><br><span class="line">imageView.animationDuration = [imagesArray count];</span><br><span class="line">// 不重复播放多少遍，0表示无数遍</span><br><span class="line">imageView.animationRepeatCount = 0;</span><br><span class="line">// 开始播放</span><br><span class="line">[imageView startAnimating];</span><br><span class="line">为图片添加单击事件：</span><br><span class="line">一定要先将userInteractionEnabled置为YES，这样才能响应单击事件</span><br><span class="line">imageView.userInteractionEnabled = YES;</span><br><span class="line">UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(tapImageView:)];</span><br><span class="line">[imageView addGestureRecognizer:singleTap];</span><br><span class="line">其他</span><br><span class="line">imageView.hidden = YES或者NO;    // 隐藏或者显示图片</span><br><span class="line">imageView.alpha =0.5;    // 设置透明度</span><br><span class="line">设置高亮时显示的图片</span><br><span class="line">imageView.highlightedImage = (UIImage *)hightlightedImage;</span><br><span class="line">设置正常显示的图片</span><br><span class="line">imageView.image = (UIImage *)image; </span><br></pre></td></tr></table></figure>

<h3 id="UIScrollView"><a href="#UIScrollView" class="headerlink" title="UIScrollView"></a><strong>UIScrollView</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//初始化scrollView</span><br><span class="line">_scrollView = [[UIScrollView alloc]init];</span><br><span class="line">_scrollView.bounds = CGRectMake(0, 0, SCREEN_W, 250);</span><br><span class="line">_scrollView.center = self.view.center;</span><br><span class="line">//设置滚动视图内容的大小,即用来盛放其他view的画布，必须比手机屏幕大才能有滚动效果</span><br><span class="line">_scrollView.contentSize = CGSizeMake(SCREEN_W * 3, 250);</span><br><span class="line">//设置分页</span><br><span class="line">_scrollView.pagingEnabled = YES;</span><br><span class="line">//是否显示指示条</span><br><span class="line">_scrollView.showsHorizontalScrollIndicator = NO;</span><br><span class="line">//加了导航栏后，会自动把滚动视图往下移动一个导航栏的高度，可手动关掉该效果</span><br><span class="line">//关闭导航栏透视效果</span><br><span class="line">self.automaticallyAdjustsScrollViewInsets = NO;</span><br><span class="line">//初始化滚动视图中第一个视图－CGPoint类型</span><br><span class="line">_scrollView.contentOffset = CGPointMake</span><br><span class="line">_scrollView.contentOffset.x／y  可查看滚动视图当前所显示视图的坐标</span><br><span class="line">//滚动响应方法得使用&lt;UIScrollViewDelegate&gt;协议中的方法</span><br><span class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView</span><br><span class="line">//滚动视图的带动画的跳转,CGPoint类型，</span><br><span class="line">[_scrollView setContentOffset:CGPointMake(x,x) animated:YES];</span><br></pre></td></tr></table></figure>

<h3 id="UIPageControl"><a href="#UIPageControl" class="headerlink" title="UIPageControl"></a><strong>UIPageControl</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@property(nonatomic,strong)UIPageControl *pageControl;</span><br><span class="line">//初始化分页控件</span><br><span class="line">_pageControl = [[UIPageControl alloc]init];</span><br><span class="line">_pageControl.bounds = CGRectMake(0, 0, SCREEN_W, 30);</span><br><span class="line">_pageControl.center = CGPointMake(CGRectGetMidX(self.view.bounds), CGRectGetMidY(self.view.bounds) + 100);</span><br><span class="line">//总页数</span><br><span class="line">_pageControl.numberOfPages = 3;</span><br><span class="line">//当前指示页</span><br><span class="line">_pageControl.currentPage = 0;</span><br><span class="line">//设置当前指示器小圆点颜色</span><br><span class="line">_pageControl.currentPageIndicatorTintColor = [UIColor orangeColor];</span><br><span class="line">[self.view addSubview:_pageControl];</span><br></pre></td></tr></table></figure>

<h3 id="UITableView"><a href="#UITableView" class="headerlink" title="UITableView"></a><strong>UITableView</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">//使用属性声明</span><br><span class="line">@property(nonatomic,strong)UITableView *tableView;</span><br><span class="line">//初始化表格视图</span><br><span class="line">_tableView = [[UITableView alloc]initWithFrame:self.view.bounds style:UITableViewStylePlain];</span><br><span class="line">_tableView.rowHeight = 50;</span><br><span class="line">[self.view addSubview:_tableView];</span><br><span class="line">//加载表格视图内容，设置延迟加载，为了效果</span><br><span class="line">[self performSelector:@selector(loadDataSource) withObject:nil afterDelay:1];</span><br><span class="line">//表格视图数据源为数组，通常进行属性申明为可变数组</span><br><span class="line">//刷新表格，重新执行一遍数据源协议方法</span><br><span class="line">[_tableView reloadData];</span><br><span class="line"></span><br><span class="line">UITableViewDataSource协议</span><br><span class="line">必须执行方法</span><br><span class="line">//指定分区有多少行(默认只有一个分区)</span><br><span class="line">- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section</span><br><span class="line">&#123;</span><br><span class="line">	return 行数;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">  //table view的重用机制</span><br><span class="line">  //1.声明一个可重用标识符</span><br><span class="line">  static NSString *cellIdentifer = @&quot;mycell&quot;;</span><br><span class="line">  //2.从队列中拿出一个可重用的特殊cell</span><br><span class="line">  UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellIdentifer];</span><br><span class="line">  if (!cell) &#123;</span><br><span class="line">  //3.如果cell没有被初始化，则初始化它</span><br><span class="line">  cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifer</span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br><span class="line">//获取当前分区对应的字体数组</span><br><span class="line">NSArray *fontArray = _dataDource[_allKeys[indexPath.section]];</span><br><span class="line">  cell.textLabel.text = fontArray[indexPath.row];</span><br><span class="line">  cell.textLabel.font = [UIFont fontWithName:fontArray[indexPath.row] size:16];</span><br><span class="line">  return cell;</span><br><span class="line">&#125;</span><br><span class="line">不必须执行方法</span><br><span class="line">//设置表格有多少个分区</span><br><span class="line">- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView</span><br><span class="line">&#123;</span><br><span class="line">	return 分区数;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">UITableViewDelegate协议</span><br><span class="line">按钮动态特效+push跳转</span><br><span class="line">- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">  //取消cell选中的颜色</span><br><span class="line">  [tableView deselectRowAtIndexPath:indexPath animated:YES];</span><br><span class="line">  //获取当前点击的cell</span><br><span class="line">  UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];</span><br><span class="line"></span><br><span class="line">  FontDetailViewController *fontDetail = [[FontDetailViewController alloc]init];</span><br><span class="line">  fontDetail.fontName = cell.textLabel.text;</span><br><span class="line">  [self.navigationController pushViewController:fontDetail animated:YES];</span><br><span class="line">&#125;</span><br><span class="line">//设置分区高度</span><br><span class="line">- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section</span><br><span class="line">&#123;</span><br><span class="line">	return 30.0;</span><br><span class="line">&#125;</span><br><span class="line">//设置分区标题</span><br><span class="line">- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section</span><br><span class="line">&#123;</span><br><span class="line">	return 标题;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">下拉刷新动态旋钮</span><br><span class="line">用属性申明</span><br><span class="line">//下拉刷新控件(系统自带)</span><br><span class="line">@property (nonatomic,strong)UIRefreshControl *refreshControl;</span><br><span class="line">初始化</span><br><span class="line">_refreshControl = [[UIRefreshControl alloc]init];</span><br><span class="line">_refreshControl.attributedTitle = [[NSAttributedString alloc]initWithString: @&quot;下拉刷新&quot;];</span><br><span class="line">添加响应控件</span><br><span class="line">[_refreshControl addTarget:self action:@selector(beginRefreshData) forControlEvents:UIControlEventValueChanged];</span><br><span class="line">[_tableView addSubview:_refreshControl];</span><br><span class="line">开始进行</span><br><span class="line">- (void)beginRefreshData&#123;  &#125;在其中写在刷新动画进行中进行的操作</span><br><span class="line">停止进行  [_refreshControl endRefreshing];</span><br></pre></td></tr></table></figure>

<h3 id="UICollectionView"><a href="#UICollectionView" class="headerlink" title="UICollectionView"></a><strong>UICollectionView</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">//配置collectionview的布局</span><br><span class="line">UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc]init];</span><br><span class="line">//配置滚动方向</span><br><span class="line">layout.scrollDirection = UICollectionViewScrollDirectionVertical;</span><br><span class="line">                         UICollectionViewScrollDirectionVertical,垂直滚动</span><br><span class="line">                         UICollectionViewScrollDirectionHorizontal 水平滚动</span><br><span class="line">//设置item的尺寸</span><br><span class="line">layout.itemSize = CGSizeMake(110, 110);</span><br><span class="line">//item之间的最小间距</span><br><span class="line">layout.minimumInteritemSpacing = 3;</span><br><span class="line">//item之间的最小间距</span><br><span class="line">layout.minimumLineSpacing = 10;</span><br><span class="line">//设置header的尺寸</span><br><span class="line">layout.headerReferenceSize = CGSizeMake(100, 30);//宽度默认与UICollectionViewFlowLayout一样</span><br><span class="line">//设置footer的尺寸</span><br><span class="line">layout.footerReferenceSize = CGSizeMake(100, 30);</span><br><span class="line">//根据布局，初始化CollectionView</span><br><span class="line">UICollectionView *collectionView = [[UICollectionView alloc]initWithFrame:self.view.bounds collectionViewLayout:layout];</span><br><span class="line">//背景色</span><br><span class="line">collectionView.backgroundColor = [UIColor colorWithRed:0.96 green:0.96 blue:0.96 alpha:1];</span><br><span class="line">//设置内偏移量</span><br><span class="line">collectionView.contentInset = UIEdgeInsetsMake(0, 10, 0, 10);</span><br><span class="line">//注册cell</span><br><span class="line">[collectionView registerClass:[CustomCollectionViewCell class] forCellWithReuseIdentifier:@&quot;cell&quot;];</span><br><span class="line">//注册header - 可重用视图类</span><br><span class="line">[collectionView registerClass:[UICollectionReusableView class] forSupplementaryViewOfKind:UICollectionElementKindSectionHeader withReuseIdentifier:@&quot;header&quot;];</span><br><span class="line">//注册footer</span><br><span class="line">[collectionView registerClass:[UICollectionReusableView class] forSupplementaryViewOfKind:UICollectionElementKindSectionFooter withReuseIdentifier:@&quot;footer&quot;];</span><br><span class="line">//数据源协议</span><br><span class="line">collectionView.dataSource = self;</span><br><span class="line">collectionView.delegate = self;</span><br><span class="line"></span><br><span class="line">[self.view addSubview:collectionView];</span><br><span class="line"></span><br><span class="line">UICollectionViewDataSource协议</span><br><span class="line">//item个数</span><br><span class="line">- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section</span><br><span class="line">&#123;</span><br><span class="line">    return _dataSource.count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    //重用机制,此处标志符sell必须和上面标志符一样</span><br><span class="line">    CustomCollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@&quot;cell&quot; forIndexPath:indexPath];</span><br><span class="line">    //配置cell的显示</span><br><span class="line">    //cell.backgroundColor = _dataSource[indexPath.row];</span><br><span class="line">    return  cell;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="UISwitch"><a href="#UISwitch" class="headerlink" title="UISwitch"></a><strong>UISwitch</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">UISwitch *switchControl = [[UISwitch alloc]init];</span><br><span class="line">switchControl.bounds = CGRectMake(0, 0, 60, 30);</span><br><span class="line">switchControl.center = CGPointMake(CGRectGetMidX(self.view.bounds), CGRectGetMidY(self.view.bounds)-200);</span><br><span class="line">设置开关是否开启－初始状态</span><br><span class="line">switchControl.on = NO;</span><br><span class="line">主色调-边框颜色</span><br><span class="line">switchControl.tintColor = [UIColor greenColor];</span><br><span class="line">开启区域的颜色</span><br><span class="line">switchControl.onTintColor = [UIColor blueColor];</span><br><span class="line">开关按钮颜色</span><br><span class="line">switchControl.thumbTintColor = [UIColor yellowColor];</span><br><span class="line">//开关点击事件</span><br><span class="line">//开关本质上是值(bool)的改变</span><br><span class="line">[switchControl addTarget:self action:@selector(controlProgress:) forControlEvents:UIControlEventValueChanged];</span><br><span class="line">响应方法  判定 switchControl.on 是否为真来判定状态</span><br></pre></td></tr></table></figure>

<h3 id="UISegmentedControl"><a href="#UISegmentedControl" class="headerlink" title="UISegmentedControl"></a><strong>UISegmentedControl</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">UISegmentedControl *segmentedControl = [[UISegmentedControl alloc]initWithItems:@[@&quot;white&quot;,@&quot;blue&quot;,@&quot;red&quot;]];</span><br><span class="line">通过数组存储要展示的部件</span><br><span class="line">segmentedControl.bounds = CGRectMake(0, 0, 370, 30);</span><br><span class="line">segmentedControl.center = self.view.center;</span><br><span class="line">//设置默认选中项</span><br><span class="line">segmentedControl.selectedSegmentIndex = 0;//对应数组下标</span><br><span class="line">//设置字体颜色</span><br><span class="line">segmentedControl.tintColor = [UIColor grayColor];</span><br><span class="line">//设置字体颜色</span><br><span class="line">//[segmentedControl setTitleTextAttributes:@&#123;NSForegroundColorAttributeName:[UIColor blackColor]&#125; forState:UIControlStateNormal];</span><br><span class="line">[segmentedControl addTarget:self action:@selector(controlProgress:) forControlEvents:UIControlEventValueChanged];</span><br><span class="line">响应方法</span><br><span class="line">通过 segmentedControl.selectedSegmentIndex 获取对应下标，再新建数组来取对应值</span><br><span class="line">NSArray *colors = @[[UIColor whiteColor],[UIColor blueColor],[UIColor redColor]];</span><br><span class="line">self.view.backgroundColor = colors[segmentedControl.selectedSegmentIndex];</span><br></pre></td></tr></table></figure>

<h3 id="UISlider"><a href="#UISlider" class="headerlink" title="UISlider"></a><strong>UISlider</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">UISlider *slider = [[UISlider alloc]init];</span><br><span class="line">slider.bounds = CGRectMake(0, 0, 335, 50);</span><br><span class="line">slider.center = CGPointMake(CGRectGetMidX(self.view.bounds), CGRectGetMidY(self.view.bounds) - 120);</span><br><span class="line">//设置最小／最大值</span><br><span class="line">slider.minimumValue = 0.1;</span><br><span class="line">slider.maximumValue = 1.0;</span><br><span class="line">//初始值</span><br><span class="line">slider.value = 0.5;</span><br><span class="line">//最小／最大值颜色</span><br><span class="line">slider.maximumTrackTintColor = [UIColor greenColor];</span><br><span class="line">slider.minimumTrackTintColor = [UIColor grayColor];</span><br><span class="line">[slider addTarget:self action:@selector(controlProgress:) forControlEvents:UIControlEventValueChanged];</span><br></pre></td></tr></table></figure>

<h3 id="UIProgressView"><a href="#UIProgressView" class="headerlink" title="UIProgressView"></a><strong>UIProgressView</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@property(nonatomic,strong)UIProgressView *progressView;</span><br><span class="line">_progressView = [[UIProgressView alloc]init];</span><br><span class="line">_progressView.bounds = CGRectMake(0, 0, 300, 50);</span><br><span class="line">_progressView.center = CGPointMake(CGRectGetMidX(self.view.bounds), CGRectGetMidY(self.view.bounds) + 100);</span><br><span class="line">设置进度条风格样式</span><br><span class="line">_progressView.progressViewStyle = UIProgressViewStyleDefault;</span><br><span class="line">//UIProgressViewStyleDefault,</span><br><span class="line">//UIProgressViewStyleBar</span><br><span class="line">初始进度。默认0.0</span><br><span class="line">_progressView.progress = 0.0;</span><br><span class="line">走过部分颜色</span><br><span class="line">_progressView.tintColor = [UIColor blueColor];</span><br><span class="line">设置进度条进度和是否动画显示(动画显示会平滑过渡)</span><br><span class="line">[_progressView setProgress:1.0 animated:YES];</span><br></pre></td></tr></table></figure>

<h3 id="UIStepper"><a href="#UIStepper" class="headerlink" title="UIStepper"></a><strong>UIStepper</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">iOS中步进控件的简单使用</span><br><span class="line">初始化控件</span><br><span class="line">UIStepper *step = [[UIStepper alloc]initWithFrame:CGRectMake(100, 100, 100, 100)];</span><br><span class="line">设置控制器值是否连续触发变化</span><br><span class="line">@property(nonatomic,getter=isContinuous) BOOL continuous;</span><br><span class="line">若设置为YES，则长按会连续触发变化，若设置为NO，只有在按击结束后，才会触发。</span><br><span class="line">设置长按是否一直触发变化</span><br><span class="line">@property(nonatomic) BOOL autorepeat; </span><br><span class="line">若设置为YES，则长按值会一直改变，若设置为NO，则一次点击只会改变一次值</span><br><span class="line">设置控制器的值是否循环(到达边界后，重头开始，默认为NO)</span><br><span class="line">@property(nonatomic) BOOL wraps;</span><br><span class="line">设置控制器的值</span><br><span class="line">@property(nonatomic) double value; </span><br><span class="line">设置控制器的最大值和最小值</span><br><span class="line">@property(nonatomic) double minimumValue;//默认为0</span><br><span class="line">@property(nonatomic) double maximumValue; //默认为100</span><br><span class="line">设置控制器的步长</span><br><span class="line">@property(nonatomic) double stepValue; </span><br><span class="line">设置控制器风格颜色</span><br><span class="line">@property(nonatomic,retain) UIColor *tintColor;</span><br><span class="line">设置控制器背景图片</span><br><span class="line">- (void)setBackgroundImage:(UIImage*)image forState:(UIControlState)state;</span><br><span class="line">获取背景图片</span><br><span class="line">- (UIImage*)backgroundImageForState:(UIControlState)state;</span><br><span class="line">通过左右按钮的状态设置分割线的图片</span><br><span class="line">- (void)setDividerImage:(UIImage*)image forLeftSegmentState:(UIControlState)leftState rightSegmentState:(UIControlState)rightState;</span><br><span class="line">获取分割线图片</span><br><span class="line">- (UIImage*)dividerImageForLeftSegmentState:(UIControlState)state rightSegmentState:(UIControlState)state;</span><br><span class="line">设置和获取加号按钮的图片</span><br><span class="line">- (void)setIncrementImage:(UIImage *)image forState:(UIControlState)state;</span><br><span class="line">- (UIImage *)incrementImageForState:(UIControlState)state;设置和获取减号按钮的图片</span><br><span class="line">- (void)setDecrementImage:(UIImage *)image forState:(UIControlState)state;</span><br><span class="line">- (UIImage *)decrementImageForState:(UIControlState)state;</span><br></pre></td></tr></table></figure>

<h3 id="UIAlertController"><a href="#UIAlertController" class="headerlink" title="UIAlertController"></a><strong>UIAlertController</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UIAlertControllerStyleAlert  //弹出到中间</span><br><span class="line">UIAlertControllerStyleActionSheet // 从下升起</span><br><span class="line">UIAlertController *loginAlertController = [UIAlertController alertControllerWithTitle:@&quot;提示&quot; message:@&quot;是否注销登录,注销后将无法使用部分功能&quot; preferredStyle:UIAlertControllerStyleAlert];  </span><br><span class="line">[loginAlertController addAction:[UIAlertAction actionWithTitle:@&quot;确定&quot; style:UIAlertActionStyleDestructive handler:^(UIAlertAction * _Nonnull action) &#123;</span><br><span class="line">&#125;]];</span><br><span class="line">[loginAlertController addAction:[UIAlertAction actionWithTitle:@&quot;取消&quot; style:UIAlertActionStyleCancel handler:nil]];</span><br><span class="line">[self presentViewController:loginAlertController animated:YES completion:nil];</span><br></pre></td></tr></table></figure>

<h3 id="UIActivityIndicatorView"><a href="#UIActivityIndicatorView" class="headerlink" title="UIActivityIndicatorView"></a>UIActivityIndicatorView</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic,strong)UIActivityIndicatorView *indicatorView;</span><br><span class="line">初始化活动指示器</span><br><span class="line">_indicatorView = [[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];</span><br><span class="line">    UIActivityIndicatorViewStyleWhiteLarge, 大白</span><br><span class="line">    UIActivityIndicatorViewStyleWhite,  白</span><br><span class="line">    UIActivityIndicatorViewStyleGray     灰</span><br><span class="line">    </span><br><span class="line">_indicatorView.bounds = CGRectMake(0, 0, 30, 30);</span><br><span class="line">_indicatorView.center = CGPointMake(CGRectGetMidX(self.view.bounds), CGRectGetMidY(self.view.bounds) + 150);</span><br><span class="line">_indicatorView.backgroundColor = [UIColor blueColor];</span><br><span class="line">设置背景透明</span><br><span class="line">_indicatorView.alpha = 0.5;</span><br><span class="line">设置背景为圆角矩形</span><br><span class="line">_indicatorView.layer.cornerRadius = 6;</span><br><span class="line">_indicatorView.layer.masksToBuounds = YES;</span><br><span class="line">//当动画停止后是否自动隐藏控件</span><br><span class="line">_indicatorView.hidesWhenStopped = YES;</span><br><span class="line">[_indicatorView startAnimating]  开始</span><br><span class="line">[_indicatorView stopAnimating] 停止</span><br></pre></td></tr></table></figure>

<h3 id="UIDatePicker"><a href="#UIDatePicker" class="headerlink" title="UIDatePicker"></a><strong>UIDatePicker</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic,strong) UIDatePicker *datePicker;</span><br><span class="line">//初始化</span><br><span class="line">_datePicker = [ [ UIDatePicker alloc] initWithFrame:CGRectMake(0,447,375,220)];</span><br><span class="line">_datePicker.backgroundColor = [UIColor groupTableViewBackgroundColor];</span><br><span class="line">//显示项目</span><br><span class="line">_datePicker.datePickerMode = UIDatePickerModeDateAndTime;</span><br><span class="line">//时间间隔</span><br><span class="line">_datePicker.minuteInterval = 1;</span><br><span class="line">//时区</span><br><span class="line">[_datePicker setLocale:[[NSLocale alloc]initWithLocaleIdentifier:@&quot;zh_Hans_CN&quot;]];</span><br><span class="line">   </span><br><span class="line">//获取选择时间</span><br><span class="line">NSDate *pickDate = [_datePicker date];</span><br><span class="line">NSDateFormatter *pickFormatter = [[NSDateFormatter alloc]init];</span><br><span class="line">[pickFormatter setDateFormat:@&quot;yy年MM月dd日－HH:mm:ss&quot;];</span><br><span class="line">NSString *dateString = [pickFormatter stringFromDate:pickDate];</span><br><span class="line">_showLable.text = dateString;</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3>
    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/02/22/04/">
        Objective-C | 继承，方法，多态
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-02-22 00:00:00" datetime="2016-02-21T16:00:00.000Z" itemprop="datePublished">
  2016-02-22
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>面对对象的重要语法，OC只支持单继承 </p>
<p>特点：</p>
<ul>
<li><p>使用继承可以实现代码的复用，减少代码亢余，      </p>
</li>
<li><p>子类可以同时拥有父类中所有哦允许子类继承的成员和方法       </p>
</li>
<li><p>子类可以改变父类中已有的方法 </p>
</li>
</ul>
<h3 id="self"><a href="#self" class="headerlink" title="self"></a><strong>self</strong></h3><p>在类的方法中替代自身，替代调方法的角色，可以直接调用本类或父类的方法</p>
<h3 id="super"><a href="#super" class="headerlink" title="super"></a><strong>super</strong></h3><p>在类的方法中替代父类，只能用来调用父类的方法，类中方法名与父类相同时，若想调用父类的方法时，只能使用super </p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态即为 接口的多种不同的实现方式，不同对象对同一消息的不同响应子类可以重写父类的方法，</p>
<p>多态允许方法重名，参数或返回值可以是父类型传入或返回 </p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>－方法   调用   [对象  方法名]</p>
<p>＋方法   调用   [类名  方法名]</p>
<h3 id="setter-gettter-方法"><a href="#setter-gettter-方法" class="headerlink" title="setter,gettter 方法"></a><strong>setter</strong>,<strong>gettter</strong> 方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (void)setName:(NSString *)name</span><br><span class="line">&#123;</span><br><span class="line">	_name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)name</span><br><span class="line">&#123;</span><br><span class="line">	retrun _name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重写<strong>description</strong>修改 %@ 的输出格式</p>

    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/02/21/01/">
        Objective-C | 集合类
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-02-21 00:00:00" datetime="2016-02-20T16:00:00.000Z" itemprop="datePublished">
  2016-02-21
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h2 id="集合类"><a href="#集合类" class="headerlink" title="集合类"></a>集合类</h2><h3 id="集合类特点："><a href="#集合类特点：" class="headerlink" title="集合类特点："></a>集合类特点：</h3><ul>
<li><p>所有的集合都是对象    </p>
</li>
<li><p>集合中所有的元素都是对象而且只能是对象    </p>
</li>
<li><p>简单数据类型用NSNumber封装成对象，复杂数据类型用NSValue封装    </p>
</li>
<li><p>集合中不能存放nil对象，nil是作为集合结束的标志符    </p>
</li>
<li><p>OC集合没有多维的概念，不会出现根本意义上的二维数组    </p>
</li>
<li><p>集合的所有运算依赖于方法 </p>
</li>
</ul>
<h3 id="数组NSArray"><a href="#数组NSArray" class="headerlink" title="数组NSArray"></a>数组<strong>NSArray</strong></h3><p>c语言数据类型(int,float,double,BOOL)要封装成NSNumber类型后，才能存在集合中 </p>
<h4 id="NSArray-不可变数组"><a href="#NSArray-不可变数组" class="headerlink" title="NSArray  不可变数组"></a>NSArray  不可变数组</h4><ol>
<li>初始化    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[[NSArray alloc]initWithObject:@“1”,@“2”,@“3”,nil]	</span><br><span class="line">[[NSArray alloc]initWithArray:array1];	</span><br><span class="line">[NSArray arrayWithObject:@“1”,@“2”,@“3”,nil]	</span><br><span class="line">[NSArray arrayWithArray:array1];	</span><br><span class="line">简化操作：NSArray = @[@“1”,@“2”,@“3”];	</span><br><span class="line">标记static的数组，不能使用简写赋值	</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>获取数组元素个数</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[array count];		</span><br><span class="line">array.count</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>添加元素</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[array arrayByAddingObject:@“4”];	</span><br><span class="line">[array arrayByAddingObjectFromArray:array1];	</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>查找元素    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSInteger index = [array indexObject:@“3”];	</span><br><span class="line">index == NSNotFound;	</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>获取元素    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//存入的是什么类型，取出就用什么类型接受	</span><br><span class="line">array[0];		</span><br><span class="line">[array objectAtIndex:0];	</span><br><span class="line">//获取第一个元素      </span><br><span class="line">[array firstObject];	</span><br><span class="line">//获取最后一个元素  </span><br><span class="line">[array lastObject];	</span><br><span class="line">//获取部分元素 </span><br><span class="line">NSArray *getArray = [array subarrayWithRange”NSMakeRange(0,2)];	</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><p>排序    </p>
</li>
<li><p>快速枚举    </p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(id obj in newArray)&#123; 	</span><br><span class="line">	NSLog(@“obj = %@”,obj);	</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h4 id="NSMutableArray-可变数组"><a href="#NSMutableArray-可变数组" class="headerlink" title="NSMutableArray  可变数组"></a>NSMutableArray  可变数组</h4><ol>
<li>初始化    </li>
</ol>
<p>基本同上，不能直接使用简化方法，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSMutableArray *array = [@[@“1”,@“2”]mutableCopy];</span><br><span class="line">额外一种， [NSMutableArray arrayWithCapacticy:20];	分配容量	</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>增    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableArray addObject:@“0”];	</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>删    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableArray removeObject:@“2”];	</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>查    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableArray indexOfObject:@“0”];	查出在数组中的位置</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>改    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableArray replaceObjectAtIndex:2 withObject:@“0”];	改数组中对应位置的元素	</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>排序 </li>
</ol>
<h4 id="字典NSDictionay"><a href="#字典NSDictionay" class="headerlink" title="字典NSDictionay"></a>字典<strong>NSDictionay</strong></h4><p>关键字及其定义的集合，字典也被称为 散列表或关联数组 </p>
<ul>
<li>NSDictionay  | value - key     </li>
</ul>
<p>1.初始化    </p>
<p>一般初始化：NSDictionary *dictionary = [[NSDictionary alloc]initWithObjectsAndKeys:@“one”,@“1”,@“two”,@“2”,nil];    </p>
<p>便利初始化:   NSDictionary *dictionary = [NSDictionary dictionaryWithObjectAndKeys:@“one”,@“1”,@“two”,@“2”,nil];    </p>
<p>快速初始化:   NSDictionary *dictionary = @[@“1”:@“one”,@“2”:@“two”];    </p>
<p>2.查询    [dictionary objectForKey:@“2”];    dictionary[@“2”];    </p>
<p>3.取出所有key    NSArray *key = [dictionary allKeys];    </p>
<p>4.取出所有对象    NSArray *objects = [dictionary allValue];  </p>
<ul>
<li>NSMutableDictionay     </li>
</ul>
<ol>
<li><p>初始化-基本同上    </p>
</li>
<li><p>增    </p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableDictionary setObject:@“six” forKey:@“6”];	</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>删    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableDictionary removeObjectForKey:@“6”];	</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>查    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableDictionary objectForKey:@“4”];</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>改(根据Key值覆盖之前的数据)    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[mutableDictionary setObject:@“sunny” forKey:@“4”];</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>遍历    </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(id key in mutableDictionary) &#123;	</span><br><span class="line">	NSLog(@“%@”,[mutableDictionary objectForKey:Key])	</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<ul>
<li>集<strong>NSSet</strong>    </li>
</ul>
<p>里面的对象不能存放重复的对象，主要用于去除重复数，可用来清除其它集合中的重复对象    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">去除重复数	</span><br><span class="line">NSArray *array = @[@“1”,@“1”,@“2”,@“3”,@“3”,@“4”];	</span><br><span class="line">NSSet *set = [NSSet setWithArray:array];	</span><br><span class="line">NSArray *arraySet = [set allObject];	</span><br><span class="line">得到的 arraySet 就是去除重复元素之后的数组</span><br></pre></td></tr></table></figure>




    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/02/21/02/">
        Objective-C | 内存管理
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-02-21 00:00:00" datetime="2016-02-20T16:00:00.000Z" itemprop="datePublished">
  2016-02-21
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h2 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h2><h3 id="内存管理的原理："><a href="#内存管理的原理：" class="headerlink" title="内存管理的原理："></a>内存管理的原理：</h3><p>​    保证每个对象在使用时存在内存中，不用的对象最后从内存中清除一个对象的生命周期        </p>
<p>​    对象初始化  -&gt; 执行，使用 -&gt; 释放内存管理只针对继承NSObject的对象，对C数据类型无效 </p>
<h3 id="retainCount引用计数"><a href="#retainCount引用计数" class="headerlink" title="retainCount引用计数"></a><strong>retainCount</strong>引用计数</h3><ol>
<li>每个OC对象都有自己的引用计数器，retainCount    </li>
<li>当对象被创建时，引用计数置为1    </li>
<li>retain使对象引用计数加1，并获得对象的所有权    </li>
<li>release使对象引用计数减1，并放弃对象的所有权    </li>
<li>当引用计数为0时，对象将被系统销毁     </li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">retainCount:获取对象当前的引用计数	</span><br><span class="line">alloc:返回一个对象，并将其引用计数设置为1，类方法	</span><br><span class="line">retain;将对象的引用计数加1	</span><br><span class="line">release:对象的引用计数减1	</span><br><span class="line">autoreplease:将对象加入自动释放池，对象引用计数滞后减1	</span><br><span class="line">dealloc，不主动调用，需要在类中重写 	</span><br></pre></td></tr></table></figure>

<p>在非ARC模式下，进行内存管理    </p>
<ul>
<li>内存管理仅仅使用于对象类型，数据类型无需进行内存管理        </li>
<li>使用alloc,new,copy,mutableCopy生成的对象，对象初始引用计数值为1，手动释放内存(堆)    </li>
<li>使用便利初始化生成的对象，对象初始引用计数值为1，并且已经设置为自动释放(栈)    </li>
<li>使用retain持有的对象，需要保证retain和release次数相等 </li>
</ul>
<h3 id="setter-getter内存管理"><a href="#setter-getter内存管理" class="headerlink" title="setter,getter内存管理"></a><strong>setter</strong>,<strong>getter</strong>内存管理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (void)setName:(NSString *)name	&#123;</span><br><span class="line">	if(name != name)&#123;</span><br><span class="line">  	[name release];		//释放旧对象，持有新对象			 </span><br><span class="line">  	_name = [name retain];		</span><br><span class="line">  &#125;</span><br><span class="line">&#125; 	</span><br><span class="line">- (NSString *)name	&#123;</span><br><span class="line">	retain _name;	</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="自定义初始化"><a href="#自定义初始化" class="headerlink" title="自定义初始化"></a>自定义初始化</h3><p>自定义初始化方法中：    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(self)&#123;</span><br><span class="line">	_name = [name retain];	</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="集合内存管理：字典，数组"><a href="#集合内存管理：字典，数组" class="headerlink" title="集合内存管理：字典，数组"></a>集合内存管理：字典，数组</h3><ol>
<li>对象加入集合对象时，＋1    </li>
<li>对象从集合对象中移除，—1    </li>
<li>集合对象的retainCount改变，其中元素的retainCount不变    </li>
<li>集合对象销毁时，其中所有元素release一次 </li>
</ol>
<h3 id="自动释放池NSAutoreleasePool"><a href="#自动释放池NSAutoreleasePool" class="headerlink" title="自动释放池NSAutoreleasePool"></a>自动释放池<strong>NSAutoreleasePool</strong></h3><ul>
<li>类似于一个容器，所有加入容器中的对象都可以被其管理，容器销毁时，池将会释放(release)所有对象    </li>
<li>一个对象可以被多次autorelease    </li>
<li>便利初始化的对象默认已经加入当前池中     </li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSAutoreleasePool *pool = [[NSAutoreleasePool alloc]init];</span><br></pre></td></tr></table></figure>




    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/02/21/03/">
        Objective-C | 常用的设计模式，引用和传值
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-02-21 00:00:00" datetime="2016-02-20T16:00:00.000Z" itemprop="datePublished">
  2016-02-21
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><p>单例是生命周期与程序生命周期相同，仅能生成一次，且不能被销毁的唯一实例    </p>
<h4 id="单例设计模式要点"><a href="#单例设计模式要点" class="headerlink" title="单例设计模式要点"></a>单例设计模式要点</h4><ol>
<li><p>某个类只能有一个实例    </p>
</li>
<li><p>必须自行创建这个对象    </p>
</li>
<li><p>必须自行向整个系统提供这个实例    </p>
</li>
<li><p>该方法必须是一个静态类</p>
</li>
</ol>
<h4 id="单例的创建"><a href="#单例的创建" class="headerlink" title="单例的创建"></a>单例的创建</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">当例一般以default,share,standard,getinstance开头</span><br><span class="line">	</span><br><span class="line">	.h</span><br><span class="line">	@property (nonatomic,strong) NSString *name;</span><br><span class="line"></span><br><span class="line">	//创建单例</span><br><span class="line">	//单例:以default,share,standard,getinstance开头</span><br><span class="line">	+ (Singleton *)shareInstance;</span><br><span class="line"></span><br><span class="line">	.m</span><br><span class="line">	//创建单例</span><br><span class="line">	+ (Singleton *)shareInstance</span><br><span class="line">	&#123;</span><br><span class="line">    	if (!instance) &#123; //(instance == nil)保证第一次创建成功后不再新建对象</span><br><span class="line">        		instance = [[Singleton alloc]init];</span><br><span class="line">    		&#125;</span><br><span class="line">    	return instance;</span><br><span class="line">	&#125;</span><br><span class="line">	//全套安全单例的创建,NSObject&lt;NSCopying&gt;</span><br><span class="line">	+ (instancetype)allocWithZone:(struct _NSZone *)zone</span><br><span class="line">	&#123;</span><br><span class="line">    		@synchronized(self) &#123;  		只能开辟一次空间</span><br><span class="line">    </span><br><span class="line">        			if (!instance) &#123;</span><br><span class="line">            		instance = [super allocWithZone:zone];</span><br><span class="line">        			&#125;</span><br><span class="line">    		&#125;</span><br><span class="line">   	 return instance;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	- (id)copyWithZone:(NSZone *)zone</span><br><span class="line">	&#123;</span><br><span class="line">    		return self;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	- (instancetype)retain</span><br><span class="line">	&#123;</span><br><span class="line">    		return self;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	- (oneway void)release</span><br><span class="line">	&#123;</span><br><span class="line">    </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	- (instancetype)autorelease</span><br><span class="line">	&#123;</span><br><span class="line"> 		return self;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	- (NSUInteger)retainCount</span><br><span class="line">	&#123;</span><br><span class="line">   		 return NSUIntegerMax;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">GCD创建单例写法</span><br></pre></td></tr></table></figure>

<h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><p>事件响应     </p>
<ul>
<li><p>KVC     </p>
<p>通过字符串描述来更改对象状态    </p>
<p>存取通过属性或者直接设置实例变量来直接更改对象状态    </p>
<p>-valueForKey        -setValue:forKey     </p>
</li>
<li><p>KVO     </p>
<p>建立在KVC之上，能够观察一个对象KVC key path 值的变化</p>
</li>
</ul>
<p>数据的持久化(数据存储) <strong>- NSUserDefaluts</strong>    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NSUserDefaluts *userDefaults = [NSUserDefaluts standardNSUserDefaluts];	</span><br><span class="line">存数据：	 [userDefaults setObject:@“tom” forKey:@“name”];	</span><br><span class="line">取数据：   [userDefaults objectForKey:@“name”];	</span><br><span class="line">删数据：   [userDefaults removeObjectForKey:@“name”];	</span><br><span class="line">更新数据同步文件	[userDefaults synchronize]; </span><br></pre></td></tr></table></figure>

<p>读写文件    </p>
<p>可以通过代码，根据路径创建文件，来存储数据，这时数据不是存储在沙盒中    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">存：[array writeToFile:@“路径名/文件名.后缀名” atomically:YES];	</span><br><span class="line">取:  [NSArray arrayWithContentsOfFile:@“路径名/文件名.后缀名”];</span><br></pre></td></tr></table></figure>


    
  </div>
</article>
  
  <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2016/02/20/00/">
        Objective-C | 属性
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2016-02-20 00:00:00" datetime="2016-02-19T16:00:00.000Z" itemprop="datePublished">
  2016-02-20
</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li></ul>

    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><h3 id="属性的声明"><a href="#属性的声明" class="headerlink" title="属性的声明"></a>属性的声明</h3><p>@property 关键字，声明一个属性 </p>
<p>属性参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">内存管理相关 	</span><br><span class="line">assign:缺省型，修饰基本数据类型和delegate对象，表示无需进行任何内存管理	</span><br><span class="line">retain:对象类型，持有对象，引用计数＋1	</span><br><span class="line">copy:对象类型(NSCopying)，持有对象，对象不可变复制 线程相关 	</span><br><span class="line">atomic:关心线程安全，通常用于多线程，原子性	</span><br><span class="line">nonatomic:不关心线程安全，用于单线程，非原子性 读写／只读 	</span><br><span class="line">readwrite:可读取，可改写	</span><br><span class="line">readonly:只读，提供getter方法，不提供setter方法 </span><br><span class="line">strong = retain  |  weak  = assign</span><br></pre></td></tr></table></figure>

<p>原子性：要么完整的被执行,要么完全不执行 </p>
<h3 id="属性的应用"><a href="#属性的应用" class="headerlink" title="属性的应用"></a>属性的应用</h3><p>用属性声明后就会自带setter,getter方法，可以直接使用点语法</p>
<h3 id="copy关键字"><a href="#copy关键字" class="headerlink" title="copy关键字"></a><strong>copy</strong>关键字</h3><p>当使用不可变类型的属性时，等同于strong,当使用可变类型时，每次赋值都会拷贝一个新的对象</p>
<p>深复制：内容复制，编译器会开辟新的内存来存储复制对象的数据，复制对象retaincount默认为1，需手动释放</p>
<p>浅赋值：指针赋值，只是将对象的引用计数加1，需要手动释放</p>
<p>copy：不可变复制，若对象时不可变的是浅复制，若对象时可变的是深复制，且复制对象不可变</p>
<p>mutableCopy：可变复制，无论对象可变还是不可变都是深复制，复制的对象可变</p>

    
  </div>
</article>
  

  <div class="content-pagination">
    
    <div class="prev">
      <i class="prev-icon"></i>
      <a href="/page/2/">
        <span>上一页</span>
      </a>
    </div>
    
    

  </div>
</div>
    </div>
    <footer class="footer-nav">
      
  <span class="footer-msg">
    
    
    
    <span class="timeDivide">-</span>
    
    Dawninest's Blob website.&nbsp;
    Power by
    <a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a>
  </span>

    </footer>
    
  
  <script src="/js/jquery/jquery-3.1.1.min.js"></script>

    
<script src="/js/theme.js"></script>

    
<script src="/js/index.js"></script>

  
  </div>
</body>