---
title: ReactNative | 图片预览插件(iOS)
tag: ReactNative
date: 2018-03-15
---

### 自制插件 picReader 记录

项目名: react-native-picReader-iOS

 [GitHub地址](https://github.com/Dawninest/react-native-picReader-iOS)

```
开发遇到的难点有这么几个方面:
1.图片缩放及拖动的极限及归位
2.超长图的支持,根据尺寸设定特别的缩放系数

关于拖动限制的计算思路
参数：x,y 当前拖动界面的中心点坐标
noteWidth,noteHeight 缩放后的实际宽高
SCREEN_W,SCREEN_H 屏宽高
需考虑的判断条件:
图宽/图高>屏宽/屏高 -宽填充满/高填充满
图高:屏高 图宽:屏宽
需满足的要求:
拿 图高 > 图宽 说明，反之同理
1.图高<屏高 图宽<屏宽 时，图片的中心点与屏幕中心点一致，不允许拖动
2.图高>屏高 图宽<屏宽 时，只允许上下拖动(限制上下极限)，不允许左右拖动
3.图高>屏高 图宽>屏宽 时，允许上下拖动(限制上下极限)，左右拖动(限制左右极限)
```

